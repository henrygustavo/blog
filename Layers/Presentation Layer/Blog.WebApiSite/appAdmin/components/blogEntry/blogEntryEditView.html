<div id="page-wrapper">
    <div class="row">
        <div class="col-md-8 col-lg-offset-4">
            <h2>Blog Entries</h2>
        </div>
    </div>
    <form name="form" role="form" novalidate>
        <div class="row">
            <div class="col-md-4 well col-lg-offset-4">

                <input-text-edit label="Header" name="header" ng-model="model.header" maxlength="200" required ng-directive-if="{'ng-unique-user-header': 'model.id==0'}" ng-unique-header="{{model.id}}"></input-text-edit>

                <input-text-edit label="Author" name="author" maxlength="200" required></input-text-edit>

                <input-text-edit label="State" name="state" select="state.value as state.text for state in model.states" required></input-text-edit>	

                <div class="form-group">
                    <tags-input ng-model="model.tags" display-property="name" placeholder="Add a tag" add-on-paste="true" min-length="0">
                        <auto-complete source="loadTags($query)" min-length="0"></auto-complete>
                    </tags-input>
                </div>
            </div>
        </div>
        <div class="row">
            <div class="panel-body">
                <div class="col-md-4 col-lg-offset-4">
                    <!-- Button trigger modal -->
                    <button class="btn btn-primary btn-lg" data-toggle="modal" data-target="#myModal">
                        Launch Images & Files
                    </button>
                </div>
                <!-- Modal -->
                <div class="modal fade" id="myModal" tabindex="-1" role="dialog" aria-labelledby="myModalLabel" aria-hidden="true" style="z-index:1049">
                    <div class="modal-dialog">
                        <div class="modal-content">
                            <div class="modal-header">
                                <button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
                                <h4 class="modal-title" id="myModalLabel">Images & Files</h4>
                            </div>
                            <div class="modal-body">
                                <uib-tabset justified="true" class="well">
                                    <uib-tab heading="Images">
                                        <ul class="gallery gallery1">
                                            <li ng-repeat="imageFolder in imagesFolder">
                                                <a ng-click="getImages(imageFolder.id)">
                                                    <img ng-src="/appAdmin/assets/img/folder-icon.png" class="img-thumbnail" ng-class="{'img-thumbnailActive': isActive(imageFolder.id,'I')}">
                                                </a>
                                                <div style="clear: both" />
                                                {{imageFolder.name}}
                                            </li>
                                        </ul>
                                        <hr>
                                        <ul class="gallery gallery1">
                                            <li ng-repeat="image in images">
                                                <a ng-click="openLightboxModal(images, $index)">
                                                    <img ng-src="https://docs.google.com/uc?id={{image.idStorage}}" class="img-thumbnail">
                                                </a>
                                                <div style="clear: both" />
                                                <span style="font-size:10px">{{image.name}}</span>
                                            </li>
                                        </ul>
                                    </uib-tab>
                                    <uib-tab heading="Files">
                                        <ul class="gallery gallery1">
                                            <li ng-repeat="fileFolder in filesfolder">
                                                <a ng-click="getFiles(fileFolder.id)">
                                                    <img ng-src="/appAdmin/assets/img/folder-icon.png" class="img-thumbnail" ng-class="{'img-thumbnailActive': isActive(fileFolder.id,'F')}">
                                                </a>
                                                <div style="clear: both" />
                                                {{fileFolder.name}}
                                            </li>
                                        </ul>
                                        <hr>
                                        <ul class="gallery">
                                            <li ng-repeat="file in files">
                                                <a href="https://docs.google.com/uc?id={{file.idStorage}}">
                                                    <img src="/appAdmin/assets/img/file-icon.png" alt="" />
                                                </a>
                                                <div style="clear: both" />
                                                {{file.name}}
                                            </li>
                                        </ul>
                                    </uib-tab>
                                </uib-tabset>
                            </div>

                        </div>
                        <!-- /.modal-content -->
                    </div>
                    <!-- /.modal-dialog -->
                </div>
                <!-- /.modal -->
            </div>
        </div>
        <div class="row">
            <div class="col-md-12 well">
                <uib-tabset justified="true">
                    <uib-tab heading="Short Content">

                        <input-text-edit name="shortContent" editor required ta-unsafe-sanitizer="true"></input-text-edit>

                    </uib-tab>
                    <uib-tab heading="Content">

                        <input-text-edit name="content" editor required ta-unsafe-sanitizer="true" ta-text-editor-class="form-control myform2-height" ta-html-editor-class="form-control myform2-height"></input-text-edit>

                    </uib-tab>
                </uib-tabset>
            </div>
        </div>

        <div class="row">
            <div class="col-md-4 well col-lg-offset-4">
                <div class="form-group">
                    <div class="col-md-3" style="padding: 1px">
                        <a ui-sref="blogEntryList" class="btn btn-default btn-block">Back</a>
                    </div>
                    <div class="col-md-9" style="padding:1px">
                        <button class="btn btn-primary btn-block" ng-disabled="form.$invalid" ng-click="save(model)">Save</button>
                    </div>
                </div>
            </div>
        </div>
    </form>
</div>
<!-- /#page-wrapper -->